!function e(t,r,n){function o(s,u){if(!r[s]){if(!t[s]){var c="function"==typeof require&&require;if(!u&&c)return c(s,!0);if(i)return i(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var l=r[s]={exports:{}};t[s][0].call(l.exports,function(e){var r=t[s][1][e];return o(r?r:e)},l,l.exports,e,t,r,n)}return r[s].exports}for(var i="function"==typeof require&&require,s=0;s<n.length;s++)o(n[s]);return o}({1:[function(e,t,r){e("../../modules/es6.object.assign"),t.exports=e("../../modules/_core").Object.assign},{"../../modules/_core":8,"../../modules/es6.object.assign":40}],2:[function(e,t,r){e("../../modules/es6.object.define-property");var n=e("../../modules/_core").Object;t.exports=function(e,t,r){return n.defineProperty(e,t,r)}},{"../../modules/_core":8,"../../modules/es6.object.define-property":41}],3:[function(e,t,r){e("../../modules/es6.object.keys"),t.exports=e("../../modules/_core").Object.keys},{"../../modules/_core":8,"../../modules/es6.object.keys":42}],4:[function(e,t,r){t.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},{}],5:[function(e,t,r){var n=e("./_is-object");t.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},{"./_is-object":21}],6:[function(e,t,r){var n=e("./_to-iobject"),o=e("./_to-length"),i=e("./_to-index");t.exports=function(e){return function(t,r,s){var u,c=n(t),a=o(c.length),l=i(s,a);if(e&&r!=r){for(;a>l;)if(u=c[l++],u!=u)return!0}else for(;a>l;l++)if((e||l in c)&&c[l]===r)return e||l||0;return!e&&-1}}},{"./_to-index":33,"./_to-iobject":35,"./_to-length":36}],7:[function(e,t,r){var n={}.toString;t.exports=function(e){return n.call(e).slice(8,-1)}},{}],8:[function(e,t,r){var n=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=n)},{}],9:[function(e,t,r){var n=e("./_a-function");t.exports=function(e,t,r){if(n(e),void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},{"./_a-function":4}],10:[function(e,t,r){t.exports=function(e){if(void 0==e)throw TypeError("Can't call method on  "+e);return e}},{}],11:[function(e,t,r){t.exports=!e("./_fails")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},{"./_fails":15}],12:[function(e,t,r){var n=e("./_is-object"),o=e("./_global").document,i=n(o)&&n(o.createElement);t.exports=function(e){return i?o.createElement(e):{}}},{"./_global":16,"./_is-object":21}],13:[function(e,t,r){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},{}],14:[function(e,t,r){var n=e("./_global"),o=e("./_core"),i=e("./_hide"),s=e("./_redefine"),u=e("./_ctx"),c="prototype",a=function(e,t,r){var l,f,b,p,d=e&a.F,y=e&a.G,h=e&a.S,v=e&a.P,m=e&a.B,_=y?n:h?n[t]||(n[t]={}):(n[t]||{})[c],w=y?o:o[t]||(o[t]={}),O=w[c]||(w[c]={});y&&(r=t);for(l in r)f=!d&&_&&void 0!==_[l],b=(f?_:r)[l],p=m&&f?u(b,n):v&&"function"==typeof b?u(Function.call,b):b,_&&s(_,l,b,e&a.U),w[l]!=b&&i(w,l,p),v&&O[l]!=b&&(O[l]=b)};n.core=o,a.F=1,a.G=2,a.S=4,a.P=8,a.B=16,a.W=32,a.U=64,a.R=128,t.exports=a},{"./_core":8,"./_ctx":9,"./_global":16,"./_hide":18,"./_redefine":30}],15:[function(e,t,r){t.exports=function(e){try{return!!e()}catch(e){return!0}}},{}],16:[function(e,t,r){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},{}],17:[function(e,t,r){var n={}.hasOwnProperty;t.exports=function(e,t){return n.call(e,t)}},{}],18:[function(e,t,r){var n=e("./_object-dp"),o=e("./_property-desc");t.exports=e("./_descriptors")?function(e,t,r){return n.f(e,t,o(1,r))}:function(e,t,r){return e[t]=r,e}},{"./_descriptors":11,"./_object-dp":23,"./_property-desc":29}],19:[function(e,t,r){t.exports=!e("./_descriptors")&&!e("./_fails")(function(){return 7!=Object.defineProperty(e("./_dom-create")("div"),"a",{get:function(){return 7}}).a})},{"./_descriptors":11,"./_dom-create":12,"./_fails":15}],20:[function(e,t,r){var n=e("./_cof");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},{"./_cof":7}],21:[function(e,t,r){t.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},{}],22:[function(e,t,r){"use strict";var n=e("./_object-keys"),o=e("./_object-gops"),i=e("./_object-pie"),s=e("./_to-object"),u=e("./_iobject"),c=Object.assign;t.exports=!c||e("./_fails")(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";return e[r]=7,n.split("").forEach(function(e){t[e]=e}),7!=c({},e)[r]||Object.keys(c({},t)).join("")!=n})?function(e,t){for(var r=s(e),c=arguments.length,a=1,l=o.f,f=i.f;c>a;)for(var b,p=u(arguments[a++]),d=l?n(p).concat(l(p)):n(p),y=d.length,h=0;y>h;)f.call(p,b=d[h++])&&(r[b]=p[b]);return r}:c},{"./_fails":15,"./_iobject":20,"./_object-gops":24,"./_object-keys":26,"./_object-pie":27,"./_to-object":37}],23:[function(e,t,r){var n=e("./_an-object"),o=e("./_ie8-dom-define"),i=e("./_to-primitive"),s=Object.defineProperty;r.f=e("./_descriptors")?Object.defineProperty:function(e,t,r){if(n(e),t=i(t,!0),n(r),o)try{return s(e,t,r)}catch(e){}if("get"in r||"set"in r)throw TypeError("Accessors not supported!");return"value"in r&&(e[t]=r.value),e}},{"./_an-object":5,"./_descriptors":11,"./_ie8-dom-define":19,"./_to-primitive":38}],24:[function(e,t,r){r.f=Object.getOwnPropertySymbols},{}],25:[function(e,t,r){var n=e("./_has"),o=e("./_to-iobject"),i=e("./_array-includes")(!1),s=e("./_shared-key")("IE_PROTO");t.exports=function(e,t){var r,u=o(e),c=0,a=[];for(r in u)r!=s&&n(u,r)&&a.push(r);for(;t.length>c;)n(u,r=t[c++])&&(~i(a,r)||a.push(r));return a}},{"./_array-includes":6,"./_has":17,"./_shared-key":31,"./_to-iobject":35}],26:[function(e,t,r){var n=e("./_object-keys-internal"),o=e("./_enum-bug-keys");t.exports=Object.keys||function(e){return n(e,o)}},{"./_enum-bug-keys":13,"./_object-keys-internal":25}],27:[function(e,t,r){r.f={}.propertyIsEnumerable},{}],28:[function(e,t,r){var n=e("./_export"),o=e("./_core"),i=e("./_fails");t.exports=function(e,t){var r=(o.Object||{})[e]||Object[e],s={};s[e]=t(r),n(n.S+n.F*i(function(){r(1)}),"Object",s)}},{"./_core":8,"./_export":14,"./_fails":15}],29:[function(e,t,r){t.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},{}],30:[function(e,t,r){var n=e("./_global"),o=e("./_hide"),i=e("./_has"),s=e("./_uid")("src"),u="toString",c=Function[u],a=(""+c).split(u);e("./_core").inspectSource=function(e){return c.call(e)},(t.exports=function(e,t,r,u){var c="function"==typeof r;c&&(i(r,"name")||o(r,"name",t)),e[t]!==r&&(c&&(i(r,s)||o(r,s,e[t]?""+e[t]:a.join(String(t)))),e===n?e[t]=r:u?e[t]?e[t]=r:o(e,t,r):(delete e[t],o(e,t,r)))})(Function.prototype,u,function(){return"function"==typeof this&&this[s]||c.call(this)})},{"./_core":8,"./_global":16,"./_has":17,"./_hide":18,"./_uid":39}],31:[function(e,t,r){var n=e("./_shared")("keys"),o=e("./_uid");t.exports=function(e){return n[e]||(n[e]=o(e))}},{"./_shared":32,"./_uid":39}],32:[function(e,t,r){var n=e("./_global"),o="__core-js_shared__",i=n[o]||(n[o]={});t.exports=function(e){return i[e]||(i[e]={})}},{"./_global":16}],33:[function(e,t,r){var n=e("./_to-integer"),o=Math.max,i=Math.min;t.exports=function(e,t){return e=n(e),e<0?o(e+t,0):i(e,t)}},{"./_to-integer":34}],34:[function(e,t,r){var n=Math.ceil,o=Math.floor;t.exports=function(e){return isNaN(e=+e)?0:(e>0?o:n)(e)}},{}],35:[function(e,t,r){var n=e("./_iobject"),o=e("./_defined");t.exports=function(e){return n(o(e))}},{"./_defined":10,"./_iobject":20}],36:[function(e,t,r){var n=e("./_to-integer"),o=Math.min;t.exports=function(e){return e>0?o(n(e),9007199254740991):0}},{"./_to-integer":34}],37:[function(e,t,r){var n=e("./_defined");t.exports=function(e){return Object(n(e))}},{"./_defined":10}],38:[function(e,t,r){var n=e("./_is-object");t.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;if("function"==typeof(r=e.valueOf)&&!n(o=r.call(e)))return o;if(!t&&"function"==typeof(r=e.toString)&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},{"./_is-object":21}],39:[function(e,t,r){var n=0,o=Math.random();t.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+o).toString(36))}},{}],40:[function(e,t,r){var n=e("./_export");n(n.S+n.F,"Object",{assign:e("./_object-assign")})},{"./_export":14,"./_object-assign":22}],41:[function(e,t,r){var n=e("./_export");n(n.S+n.F*!e("./_descriptors"),"Object",{defineProperty:e("./_object-dp").f})},{"./_descriptors":11,"./_export":14,"./_object-dp":23}],42:[function(e,t,r){var n=e("./_to-object"),o=e("./_object-keys");e("./_object-sap")("keys",function(){return function(e){return o(n(e))}})},{"./_object-keys":26,"./_object-sap":28,"./_to-object":37}],43:[function(e,t,r){(function(e){!function(e){"use strict";var t=function(t,r,n){function o(e){return u.body?e():void setTimeout(function(){o(e)})}function i(){c.addEventListener&&c.removeEventListener("load",i),c.media=n||"all"}var s,u=e.document,c=u.createElement("link");if(r)s=r;else{var a=(u.body||u.getElementsByTagName("head")[0]).childNodes;s=a[a.length-1]}var l=u.styleSheets;c.rel="stylesheet",c.href=t,c.media="only x",o(function(){s.parentNode.insertBefore(c,r?s:s.nextSibling)});var f=function(e){for(var t=c.href,r=l.length;r--;)if(l[r].href===t)return e();setTimeout(function(){f(e)})};return c.addEventListener&&c.addEventListener("load",i),c.onloadcssdefined=f,f(i),c};"undefined"!=typeof r?r.loadCSS=t:e.loadCSS=t}("undefined"!=typeof e?e:this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],44:[function(e,t,r){(function(e){"use strict";!function(e){if(e.loadCSS){var t=loadCSS.relpreload={};if(t.support=function(){try{return e.document.createElement("link").relList.supports("preload")}catch(e){return!1}},t.poly=function(){for(var t=e.document.getElementsByTagName("link"),r=0;r<t.length;r++){var n=t[r];"preload"===n.rel&&"style"===n.getAttribute("as")&&(e.loadCSS(n.href,n),n.rel=null)}},!t.support()){t.poly();var r=e.setInterval(t.poly,300);e.addEventListener&&e.addEventListener("load",function(){e.clearInterval(r)}),e.attachEvent&&e.attachEvent("onload",function(){e.clearInterval(r)})}}}("undefined"!=typeof e?e:void 0)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],45:[function(e,t,r){"use strict";function n(e){for(var t=!0,r=0;r<e.length;r++){var n=e[r],o=Modernizr[n];t=t&&o}return t}Object.defineProperty(r,"__esModule",{value:!0}),r.default=n,e("./modernizr")},{"./modernizr":46}],46:[function(e,t,r){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o="function"==typeof Symbol&&"symbol"===n(Symbol.iterator)?function(e){return"undefined"==typeof e?"undefined":n(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":"undefined"==typeof e?"undefined":n(e)};!function(e,t,r){function n(e,t){return("undefined"==typeof e?"undefined":o(e))===t}function i(){var e,t,r,o,i,s,u;for(var c in w)if(w.hasOwnProperty(c)){if(e=[],t=w[c],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(r=0;r<t.options.aliases.length;r++)e.push(t.options.aliases[r].toLowerCase());for(o=n(t.fn,"function")?t.fn():t.fn,i=0;i<e.length;i++)s=e[i],u=s.split("."),1===u.length?j[u[0]]=o:(!j[u[0]]||j[u[0]]instanceof Boolean||(j[u[0]]=new Boolean(j[u[0]])),j[u[0]][u[1]]=o),g.push((o?"":"no-")+u.join("-"))}}function s(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):k?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function u(e){var t=x.className,r=j._config.classPrefix||"";if(k&&(t=t.baseVal),j._config.enableJSClass){var n=new RegExp("(^|\\s)"+r+"no-js(\\s|$)");t=t.replace(n,"$1"+r+"js$2")}j._config.enableClasses&&(t+=" "+r+e.join(" "+r),k?x.className.baseVal=t:x.className=t)}function c(e,t){if("object"==("undefined"==typeof e?"undefined":o(e)))for(var r in e)E(e,r)&&c(r,e[r]);else{e=e.toLowerCase();var n=e.split("."),i=j[n[0]];if(2==n.length&&(i=i[n[1]]),"undefined"!=typeof i)return j;t="function"==typeof t?t():t,1==n.length?j[n[0]]=t:(!j[n[0]]||j[n[0]]instanceof Boolean||(j[n[0]]=new Boolean(j[n[0]])),j[n[0]][n[1]]=t),u([(t&&0!=t?"":"no-")+n.join("-")]),j._trigger(e,t)}return j}function a(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,r){return t+r.toUpperCase()}).replace(/^-/,"")}function l(){var e=t.body;return e||(e=s(k?"svg":"body"),e.fake=!0),e}function f(e,r,n,o){var i,u,c,a,f="modernizr",b=s("div"),p=l();if(parseInt(n,10))for(;n--;)c=s("div"),c.id=o?o[n]:f+(n+1),b.appendChild(c);return i=s("style"),i.type="text/css",i.id="s"+f,(p.fake?p:b).appendChild(i),p.appendChild(b),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(t.createTextNode(e)),b.id=f,p.fake&&(p.style.background="",p.style.overflow="hidden",a=x.style.overflow,x.style.overflow="hidden",x.appendChild(p)),u=r(b,e),p.fake?(p.parentNode.removeChild(p),x.style.overflow=a,x.offsetHeight):b.parentNode.removeChild(b),!!u}function b(e,t){return!!~(""+e).indexOf(t)}function p(e,t){return function(){return e.apply(t,arguments)}}function d(e,t,r){var o;for(var i in e)if(e[i]in t)return r===!1?e[i]:(o=t[e[i]],n(o,"function")?p(o,r||t):o);return!1}function y(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function h(t,n){var o=t.length;if("CSS"in e&&"supports"in e.CSS){for(;o--;)if(e.CSS.supports(y(t[o]),n))return!0;return!1}if("CSSSupportsRule"in e){for(var i=[];o--;)i.push("("+y(t[o])+":"+n+")");return i=i.join(" or "),f("@supports ("+i+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return r}function v(e,t,o,i){function u(){l&&(delete q.style,delete q.modElem)}if(i=!n(i,"undefined")&&i,!n(o,"undefined")){var c=h(e,o);if(!n(c,"undefined"))return c}for(var l,f,p,d,y,v=["modernizr","tspan","samp"];!q.style&&v.length;)l=!0,q.modElem=s(v.shift()),q.style=q.modElem.style;for(p=e.length,f=0;p>f;f++)if(d=e[f],y=q.style[d],b(d,"-")&&(d=a(d)),q.style[d]!==r){if(i||n(o,"undefined"))return u(),"pfx"!=t||d;try{q.style[d]=o}catch(e){}if(q.style[d]!=y)return u(),"pfx"!=t||d}return u(),!1}function m(e,t,r,o,i){var s=e.charAt(0).toUpperCase()+e.slice(1),u=(e+" "+C.join(s+" ")+s).split(" ");return n(t,"string")||n(t,"undefined")?v(u,t,o,i):(u=(e+" "+A.join(s+" ")+s).split(" "),d(u,t,r))}function _(e,t,n){return m(e,r,r,t,n)}var w=[],O={_version:"3.3.1",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var r=this;setTimeout(function(){t(r[e])},0)},addTest:function(e,t,r){w.push({name:e,fn:t,options:r})},addAsyncTest:function(e){w.push({name:null,fn:e})}},j=function(){};j.prototype=O,j=new j,j.addTest("eventlistener","addEventListener"in e),j.addTest("queryselector","querySelector"in t&&"querySelectorAll"in t);var g=[],S=O._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];O._prefixes=S;var x=t.documentElement;j.addTest("classlist","classList"in x);var E;!function(){var e={}.hasOwnProperty;E=n(e,"undefined")||n(e.call,"undefined")?function(e,t){return t in e&&n(e.constructor.prototype[t],"undefined")}:function(t,r){return e.call(t,r)}}();var k="svg"===x.nodeName.toLowerCase();j.addTest("opacity",function(){var e=s("a").style;return e.cssText=S.join("opacity:.55;"),/^0.55$/.test(e.opacity)}),j.addTest("csspointerevents",function(){var e=s("a").style;return e.cssText="pointer-events:auto","auto"===e.pointerEvents}),j.addTest("cssremunit",function(){var e=s("a").style;try{e.fontSize="3rem"}catch(e){}return/rem/.test(e.fontSize)}),j.addTest("template","content"in s("template")),O._l={},O.on=function(e,t){this._l[e]||(this._l[e]=[]),this._l[e].push(t),j.hasOwnProperty(e)&&setTimeout(function(){j._trigger(e,j[e])},0)},O._trigger=function(e,t){if(this._l[e]){var r=this._l[e];setTimeout(function(){var e,n;for(e=0;e<r.length;e++)(n=r[e])(t)},0),delete this._l[e]}},j._q.push(function(){O.addTest=c}),c("htmlimports","import"in s("link"));var P=O.testStyles=f;j.addTest("touchevents",function(){var r;if("ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch)r=!0;else{var n=["@media (",S.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");P(n,function(e){r=9===e.offsetTop})}return r});var T="Moz O ms Webkit",C=O._config.usePrefixes?T.split(" "):[];O._cssomPrefixes=C;var M=function(t){var n,o=S.length,i=e.CSSRule;if("undefined"==typeof i)return r;if(!t)return!1;if(t=t.replace(/^@/,""),n=t.replace(/-/g,"_").toUpperCase()+"_RULE",n in i)return"@"+t;for(var s=0;o>s;s++){var u=S[s],c=u.toUpperCase()+"_"+n;if(c in i)return"@-"+u.toLowerCase()+"-"+t}return!1};O.atRule=M;var A=O._config.usePrefixes?T.toLowerCase().split(" "):[];O._domPrefixes=A;var R={elem:s("modernizr")};j._q.push(function(){delete R.elem});var q={style:R.elem.style};j._q.unshift(function(){delete q.style}),O.testAllProps=m;var D=O.prefixed=function(e,t,r){return 0===e.indexOf("@")?M(e):(-1!=e.indexOf("-")&&(e=a(e)),t?m(e,t,r):m(e,"pfx"))};j.addTest("requestanimationframe",!!D("requestAnimationFrame",e),{aliases:["raf"]}),j.addTest("matchmedia",!!D("matchMedia",e)),O.testAllProps=_,j.addTest("csstransforms",function(){return-1===navigator.userAgent.indexOf("Android 2.")&&_("transform","scale(1)",!0)}),i(),delete O.addTest,delete O.addAsyncTest;for(var L=0;L<j._q.length;L++)j._q[L]();e.Modernizr=j}(window,document)},{}],47:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(){return"createShadowRoot"in document.body}function i(){return"attachShadow"in document.body}function s(){return o()||i()}function u(){return"registerElement"in document}function c(){return"customElements"in window}function a(){return u()||c()}function l(){var e=document.createElement("link");e.rel="import",e.href="https://unpkg.com/y-drawer@3/dist/webcomponent/y-drawer.html";var t=document.getElementsByTagName("link")[0];t.parentNode.insertBefore(e,t)}e("core-js/fn/object/assign"),e("core-js/fn/object/define-property"),e("core-js/fn/object/keys");var f=e("fg-loadcss/src/loadCSS"),b=e("../lib/has-features"),p=n(b),d="(min-width: 48em)";if((0,p.default)(["eventlistener","queryselector","matchmedia","requestanimationframe","classlist","opacity","csstransforms","csspointerevents","cssremunit"])){if(window.drawer=document.querySelector("y-drawer"),window.isDesktop=window.matchMedia(d).matches,s())window.isDesktop&&window.drawer.setAttribute("opened",""),window.isDesktop&&window.drawer.setAttribute("persistent",""),(0,p.default)(["template","htmlimports"])&&a()?l():(loadJSDeferred("https://unpkg.com/webcomponents.js@0.7.22/webcomponents-lite.min.js"),window.addEventListener("WebComponentsReady",l));else{var h=document.getElementsByTagName("style")[0];(0,f.loadCSS)("https://unpkg.com/y-drawer@3/dist/drawer.css",h),loadJSDeferred("https://unpkg.com/y-drawer@3/dist/vanilla/index.js",function(){var e=y.drawer.vanilla.default;window.drawer=new e(window.drawer,{opened:window.isDesktop,persistent:window.isDesktop})})}window.addEventListener("resize",function(){var e=window.isDesktop!==window.matchMedia(d).matches;window.drawer&&e&&(window.isDesktop=!window.isDesktop,window.drawer.persistent=window.isDesktop,window.drawer.jumpTo(window.isDesktop))}),document.getElementById("_menu").addEventListener("click",function(e){window.drawer&&!window.isDesktop&&(e.preventDefault(),window.drawer.toggle())})}},{"../lib/has-features":45,"core-js/fn/object/assign":1,"core-js/fn/object/define-property":2,"core-js/fn/object/keys":3,"fg-loadcss/src/loadCSS":43}],48:[function(e,t,r){(function(t){"use strict";var r=e("fg-loadcss/src/loadCSS");e("./katex"),e("./drawer"),e("./smooth-state"),t.loadCSS=r.loadCSS,e("../lib/cssrelpreload")}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../lib/cssrelpreload":44,"./drawer":47,"./katex":49,"./smooth-state":50,"fg-loadcss/src/loadCSS":43}],49:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(){if(window.katex){var e=document.querySelectorAll('script[type^="math/tex"]'),t=!0,r=!1,n=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var s=o.value;s.style.willChange="content"}}catch(e){r=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw n}}requestAnimationFrame(function(){var t=!0,r=!1,n=void 0;try{for(var o,i=e[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var s=o.value,u=s,c=u.textContent.replace("% <![CDATA[","").replace("%]]>","");try{var a=u.previousElementSibling;u.outerHTML=katex.renderToString(c,{displayMode:"math/tex; mode=display"===u.type}),a.style.display="none",a.style.visibility="hidden",u.style.willChange=""}catch(e){console.error(e)}}}catch(e){r=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw n}}})}}Object.defineProperty(r,"__esModule",{value:!0}),r.default=o;var i=e("fg-loadcss/src/loadCSS"),s=e("../lib/has-features"),u=n(s);(0,u.default)(["queryselector","classlist","requestanimationframe"])&&((0,i.loadCSS)("https://unpkg.com/katex@0.6.0/dist/katex.min.css"),loadJSDeferred("https://unpkg.com/katex@0.6.0/dist/katex.min.js",o))},{"../lib/has-features":45,"fg-loadcss/src/loadCSS":43}],50:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var o=e("y-smooth-state/src/vanilla"),i=n(o),s=e("./katex"),u=n(s),c=document.querySelector("y-smooth-state");window.setImmediate=window.setImmediate||function(e){return window.setTimeout(e,0)},window.smoothState=new i.default(c,{contentSelector:"main, header > div",scroll:!0}),c.addEventListener("y-smooth-state-before",function(){setImmediate(function(){!window.isDesktop&&window.drawer.opened&&window.drawer.close()})}),c.addEventListener("y-smooth-state-after",function(){setImmediate(function(){window.ga&&window.ga("send","pageview"),(0,u.default)()})})},{"./katex":49,"y-smooth-state/src/vanilla":109}],51:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0}),r.InnerSubscriber=void 0;var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=e("./Subscriber");r.InnerSubscriber=function(e){function t(e,r,i){n(this,t);var s=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return s.parent=e,s.outerValue=r,s.outerIndex=i,s.index=0,s}return i(t,e),s(t,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),t}(u.Subscriber)},{"./Subscriber":57}],52:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0}),r.Observable=void 0;var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=e("./util/root"),s=e("./util/toSubscriber"),u=e("./symbol/observable"),c=r.Observable=function(){function e(t){n(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return o(e,[{key:"lift",value:function(t){var r=new e;return r.source=this,r.operator=t,r}},{key:"subscribe",value:function(e,t,r){var n=this.operator,o=(0,s.toSubscriber)(e,t,r);if(n?n.call(o,this):o.add(this._subscribe(o)),o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o}},{key:"forEach",value:function(e,t){var r=this;if(t||(i.root.Rx&&i.root.Rx.config&&i.root.Rx.config.Promise?t=i.root.Rx.config.Promise:i.root.Promise&&(t=i.root.Promise)),!t)throw new Error("no Promise impl found");return new t(function(t,n){var o=r.subscribe(function(t){if(o)try{e(t)}catch(e){n(e),o.unsubscribe()}else e(t)},n,t)})}},{key:"_subscribe",value:function(e){return this.source.subscribe(e)}},{key:u.$$observable,value:function(){return this}}]),e}();c.create=function(e){return new c(e)}},{"./symbol/observable":92,"./util/root":102,"./util/toSubscriber":104}],53:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.empty={closed:!0,next:function(e){},error:function(e){throw e},complete:function(){}}},{}],54:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0}),r.OuterSubscriber=void 0;var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=e("./Subscriber");r.OuterSubscriber=function(e){function t(){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"notifyNext",value:function(e,t,r,n,o){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),t}(u.Subscriber)},{"./Subscriber":57}],55:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0}),r.AnonymousSubject=r.Subject=r.SubjectSubscriber=void 0;var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=e("./Observable"),c=e("./Subscriber"),a=e("./Subscription"),l=e("./util/ObjectUnsubscribedError"),f=e("./SubjectSubscription"),b=e("./symbol/rxSubscriber"),p=r.SubjectSubscriber=function(e){function t(e){n(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.destination=e,r}return i(t,e),t}(c.Subscriber),d=r.Subject=function(e){function t(){n(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return i(t,e),s(t,[{key:b.$$rxSubscriber,value:function(){return new p(this)}},{key:"lift",value:function(e){var t=new y(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new l.ObjectUnsubscribedError;if(!this.isStopped)for(var t=this.observers,r=t.length,n=t.slice(),o=0;o<r;o++)n[o].next(e)}},{key:"error",value:function(e){if(this.closed)throw new l.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,r=t.length,n=t.slice(),o=0;o<r;o++)n[o].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new l.ObjectUnsubscribedError;this.isStopped=!0;for(var e=this.observers,t=e.length,r=e.slice(),n=0;n<t;n++)r[n].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_subscribe",value:function(e){if(this.closed)throw new l.ObjectUnsubscribedError;return this.hasError?(e.error(this.thrownError),a.Subscription.EMPTY):this.isStopped?(e.complete(),a.Subscription.EMPTY):(this.observers.push(e),new f.SubjectSubscription(this,e))}},{key:"asObservable",value:function(){var e=new u.Observable;return e.source=this,e}}]),t}(u.Observable);d.create=function(e,t){return new y(e,t)};var y=r.AnonymousSubject=function(e){function t(e,r){n(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.destination=e,i.source=r,i}return i(t,e),s(t,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){var t=this.source;return t?this.source.subscribe(e):a.Subscription.EMPTY}}]),t}(d)},{"./Observable":52,"./SubjectSubscription":56,"./Subscriber":57,"./Subscription":58,"./symbol/rxSubscriber":93,"./util/ObjectUnsubscribedError":94}],56:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0}),r.SubjectSubscription=void 0;var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=e("./Subscription");r.SubjectSubscription=function(e){function t(e,r){n(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.subject=e,i.subscriber=r,i.closed=!1,i}return i(t,e),s(t,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var r=t.indexOf(this.subscriber);r!==-1&&t.splice(r,1)}}}}]),t}(u.Subscription)},{"./Subscription":58}],57:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0}),r.Subscriber=void 0;var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(n)},a=e("./util/isFunction"),l=e("./Subscription"),f=e("./Observer"),b=e("./symbol/rxSubscriber"),p=r.Subscriber=function(e){function t(e,r,i){n(this,t);var u=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));switch(u.syncErrorValue=null,u.syncErrorThrown=!1,u.syncErrorThrowable=!1,u.isStopped=!1,arguments.length){case 0:u.destination=f.empty;break;case 1:if(!e){u.destination=f.empty;break}if("object"===("undefined"==typeof e?"undefined":s(e))){e instanceof t?(u.destination=e,u.destination.add(u)):(u.syncErrorThrowable=!0,u.destination=new d(u,e));break}default:u.syncErrorThrowable=!0,u.destination=new d(u,e,r,i)}return u}return i(t,e),u(t,[{key:b.$$rxSubscriber,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}}],[{key:"create",value:function(e,r,n){var o=new t(e,r,n);return o.syncErrorThrowable=!1,o}}]),t}(l.Subscription),d=function(e){function t(e,r,i,s){n(this,t);var u=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));u._parent=e;var c=void 0,l=u;return(0,a.isFunction)(r)?c=r:r&&(l=r,c=r.next,i=r.error,s=r.complete,(0,a.isFunction)(l.unsubscribe)&&u.add(l.unsubscribe.bind(l)),l.unsubscribe=u.unsubscribe.bind(u)),u._context=l,u._next=c,u._error=i,u._complete=s,u}return i(t,e),u(t,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parent;t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parent;if(this._error)t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else{if(!t.syncErrorThrowable)throw this.unsubscribe(),e;t.syncErrorValue=e,t.syncErrorThrown=!0,this.unsubscribe()}}}},{key:"complete",value:function(){if(!this.isStopped){var e=this._parent;this._complete?e.syncErrorThrowable?(this.__tryOrSetError(e,this._complete),this.unsubscribe()):(this.__tryOrUnsub(this._complete),this.unsubscribe()):this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(e){throw this.unsubscribe(),e}}},{key:"__tryOrSetError",value:function(e,t,r){try{t.call(this._context,r)}catch(t){return e.syncErrorValue=t,e.syncErrorThrown=!0,!0}return!1}},{key:"_unsubscribe",value:function(){var e=this._parent;this._context=null,this._parent=null,e.unsubscribe()}}]),t}(p)},{"./Observer":53,"./Subscription":58,"./symbol/rxSubscriber":93,"./util/isFunction":98}],58:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0}),r.Subscription=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=e("./util/isArray"),u=e("./util/isObject"),c=e("./util/isFunction"),a=e("./util/tryCatch"),l=e("./util/errorObject"),f=e("./util/UnsubscriptionError"),b=r.Subscription=function(){function e(t){n(this,e),this.closed=!1,t&&(this._unsubscribe=t)}return i(e,[{key:"unsubscribe",value:function(){var e=!1,t=void 0;if(!this.closed){this.closed=!0;var r=this._unsubscribe,n=this._subscriptions;if(this._subscriptions=null,(0,c.isFunction)(r)){var o=(0,a.tryCatch)(r).call(this);o===l.errorObject&&(e=!0,(t=t||[]).push(l.errorObject.e))}if((0,s.isArray)(n))for(var i=-1,b=n.length;++i<b;){var p=n[i];if((0,u.isObject)(p)){var d=(0,a.tryCatch)(p.unsubscribe).call(p);if(d===l.errorObject){e=!0,t=t||[];var y=l.errorObject.e;y instanceof f.UnsubscriptionError?t=t.concat(y.errors):t.push(y)}}}if(e)throw new f.UnsubscriptionError(t)}}},{key:"add",value:function(t){if(!t||t===e.EMPTY)return e.EMPTY;if(t===this)return this;var r=t;switch("undefined"==typeof t?"undefined":o(t)){case"function":r=new e(t);case"object":if(r.closed||"function"!=typeof r.unsubscribe)break;this.closed?r.unsubscribe():(this._subscriptions||(this._subscriptions=[])).push(r);break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}return r}},{key:"remove",value:function(t){if(null!=t&&t!==this&&t!==e.EMPTY){var r=this._subscriptions;if(r){var n=r.indexOf(t);n!==-1&&r.splice(n,1)}}}}]),e}();b.EMPTY=function(e){return e.closed=!0,e}(new b)},{"./util/UnsubscriptionError":95,"./util/errorObject":96,"./util/isArray":97,"./util/isFunction":98,"./util/isObject":99,"./util/tryCatch":105}],59:[function(e,t,r){"use strict";var n=e("../../../Observable"),o=e("../../../observable/dom/ajax");n.Observable.ajax=o.ajax},{"../../../Observable":52,"../../../observable/dom/ajax":77}],60:[function(e,t,r){"use strict";var n=e("../../Observable"),o=e("../../observable/empty");n.Observable.empty=o.empty},{"../../Observable":52,"../../observable/empty":78}],61:[function(e,t,r){"use strict";var n=e("../../Observable"),o=e("../../observable/fromEvent");n.Observable.fromEvent=o.fromEvent},{"../../Observable":52,"../../observable/fromEvent":79}],62:[function(e,t,r){"use strict";var n=e("../../Observable"),o=e("../../observable/merge");n.Observable.merge=o.merge},{"../../Observable":52,"../../observable/merge":80}],63:[function(e,t,r){"use strict";var n=e("../../Observable"),o=e("../../observable/of");n.Observable.of=o.of},{"../../Observable":52,"../../observable/of":81}],64:[function(e,t,r){"use strict";var n=e("../../Observable"),o=e("../../operator/catch");n.Observable.prototype.catch=o._catch,n.Observable.prototype._catch=o._catch},{"../../Observable":52,"../../operator/catch":82}],65:[function(e,t,r){"use strict";var n=e("../../Observable"),o=e("../../operator/do");n.Observable.prototype.do=o._do,n.Observable.prototype._do=o._do},{"../../Observable":52,"../../operator/do":83}],66:[function(e,t,r){"use strict";var n=e("../../Observable"),o=e("../../operator/filter");n.Observable.prototype.filter=o.filter},{"../../Observable":52,"../../operator/filter":84}],67:[function(e,t,r){"use strict";var n=e("../../Observable"),o=e("../../operator/map");n.Observable.prototype.map=o.map},{"../../Observable":52,"../../operator/map":85}],68:[function(e,t,r){"use strict";var n=e("../../Observable"),o=e("../../operator/mergeAll");n.Observable.prototype.mergeAll=o.mergeAll},{"../../Observable":52,"../../operator/mergeAll":87}],69:[function(e,t,r){"use strict";var n=e("../../Observable"),o=e("../../operator/retry");n.Observable.prototype.retry=o.retry},{"../../Observable":52,"../../operator/retry":88}],70:[function(e,t,r){"use strict";var n=e("../../Observable"),o=e("../../operator/switch");n.Observable.prototype.switch=o._switch,n.Observable.prototype._switch=o._switch},{"../../Observable":52,"../../operator/switch":89}],71:[function(e,t,r){"use strict";var n=e("../../Observable"),o=e("../../operator/switchMap");n.Observable.prototype.switchMap=o.switchMap},{"../../Observable":52,"../../operator/switchMap":90}],72:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0}),r.ArrayObservable=void 0;var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=e("../Observable"),c=e("./ScalarObservable"),a=e("./EmptyObservable"),l=e("../util/isScheduler");r.ArrayObservable=function(e){function t(e,r){n(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.array=e,i.scheduler=r,r||1!==e.length||(i._isScalar=!0,i.value=e[0]),i}return i(t,e),s(t,[{key:"_subscribe",value:function(e){var r=0,n=this.array,o=n.length,i=this.scheduler;if(i)return i.schedule(t.dispatch,0,{array:n,index:r,count:o,subscriber:e});for(var s=0;s<o&&!e.closed;s++)e.next(n[s]);e.complete()}}],[{key:"create",value:function(e,r){return new t(e,r)}},{key:"of",value:function(){for(var e=arguments.length,r=Array(e),n=0;n<e;n++)r[n]=arguments[n];var o=r[r.length-1];(0,l.isScheduler)(o)?r.pop():o=null;var i=r.length;return i>1?new t(r,o):1===i?new c.ScalarObservable(r[0],o):new a.EmptyObservable(o)}},{key:"dispatch",value:function(e){var t=e.array,r=e.index,n=e.count,o=e.subscriber;return r>=n?void o.complete():(o.next(t[r]),void(o.closed||(e.index=r+1,this.schedule(e))))}}]),t}(u.Observable)},{"../Observable":52,"../util/isScheduler":101,"./EmptyObservable":73,"./ScalarObservable":75}],73:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0}),r.EmptyObservable=void 0;var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=e("../Observable");r.EmptyObservable=function(e){function t(e){n(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return r.scheduler=e,r}return i(t,e),s(t,[{key:"_subscribe",value:function(e){var r=this.scheduler;return r?r.schedule(t.dispatch,0,{subscriber:e}):void e.complete()}}],[{key:"create",value:function(e){return new t(e)}},{key:"dispatch",value:function(e){var t=e.subscriber;t.complete()}}]),t}(u.Observable)},{"../Observable":52}],74:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return!!e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}function u(e){return!!e&&"function"==typeof e.on&&"function"==typeof e.off}function c(e){return!!e&&"[object NodeList]"===e.toString()}function a(e){return!!e&&"[object HTMLCollection]"===e.toString()}function l(e){return!!e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}Object.defineProperty(r,"__esModule",{value:!0}),r.FromEventObservable=void 0;var f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),b=e("../Observable"),p=e("../util/tryCatch"),d=e("../util/isFunction"),y=e("../util/errorObject"),h=e("../Subscription");r.FromEventObservable=function(e){function t(e,r,i,s){n(this,t);var u=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return u.sourceObj=e,u.eventName=r,u.selector=i,u.options=s,u}return i(t,e),f(t,[{key:"_subscribe",value:function(e){var r=this.sourceObj,n=this.eventName,o=this.options,i=this.selector,s=i?function(){var t=(0,p.tryCatch)(i).apply(void 0,arguments);t===y.errorObject?e.error(y.errorObject.e):e.next(t)}:function(t){return e.next(t)};t.setupSubscription(r,n,s,e,o)}}],[{key:"create",value:function(e,r,n,o){return(0,d.isFunction)(n)&&(o=n,n=void 0),new t(e,r,o,n)}},{key:"setupSubscription",value:function(e,r,n,o,i){var f=void 0;if(c(e)||a(e))for(var b=0,p=e.length;b<p;b++)t.setupSubscription(e[b],r,n,o,i);else l(e)?!function(){var t=e;e.addEventListener(r,n,i),f=function(){return t.removeEventListener(r,n)}}():u(e)?!function(){var t=e;e.on(r,n),f=function(){return t.off(r,n)}}():s(e)&&!function(){var t=e;e.addListener(r,n),f=function(){return t.removeListener(r,n)}}();o.add(new h.Subscription(f))}}]),t}(b.Observable)},{"../Observable":52,"../Subscription":58,"../util/errorObject":96,"../util/isFunction":98,"../util/tryCatch":105}],75:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0}),r.ScalarObservable=void 0;var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=e("../Observable");r.ScalarObservable=function(e){function t(e,r){n(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return i.value=e,i.scheduler=r,i._isScalar=!0,r&&(i._isScalar=!1),i}return i(t,e),s(t,[{key:"_subscribe",value:function(e){var r=this.value,n=this.scheduler;return n?n.schedule(t.dispatch,0,{done:!1,value:r,subscriber:e}):(e.next(r),void(e.closed||e.complete()))}}],[{key:"create",value:function(e,r){return new t(e,r)}},{key:"dispatch",value:function(e){var t=e.done,r=e.value,n=e.subscriber;return t?void n.complete():(n.next(r),void(n.closed||(e.done=!0,this.schedule(e))))}}]),t}(u.Observable)},{"../Observable":52}],76:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){if(y.root.XMLHttpRequest){var e=new y.root.XMLHttpRequest;return"withCredentials"in e&&(e.withCredentials=!!this.withCredentials),e}if(y.root.XDomainRequest)return new y.root.XDomainRequest;throw new Error("CORS is not supported by your browser")}function u(){if(y.root.XMLHttpRequest)return new y.root.XMLHttpRequest;var e=void 0;try{for(var t=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],r=0;r<3;r++)try{if(e=t[r],new y.root.ActiveXObject(e))break}catch(e){}return new y.root.ActiveXObject(e)}catch(e){throw new Error("XMLHttpRequest is not supported by your browser")}}function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new O({method:"GET",url:e,headers:t})}function a(e,t,r){return new O({method:"POST",url:e,body:t,headers:r})}function l(e,t){return new O({method:"DELETE",url:e,headers:t})}function f(e,t,r){return new O({method:"PUT",url:e,body:t,headers:r})}function b(e,t){return new O({method:"GET",url:e,responseType:"json",headers:t}).lift(new w.MapOperator(function(e,t){return e.response},null))}Object.defineProperty(r,"__esModule",{value:!0}),r.AjaxTimeoutError=r.AjaxError=r.AjaxResponse=r.AjaxSubscriber=r.AjaxObservable=void 0;var p=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(n)},d=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r.ajaxGet=c,r.ajaxPost=a,r.ajaxDelete=l,r.ajaxPut=f,r.ajaxGetJSON=b;var y=e("../../util/root"),h=e("../../util/tryCatch"),v=e("../../util/errorObject"),m=e("../../Observable"),_=e("../../Subscriber"),w=e("../../operator/map"),O=r.AjaxObservable=function(e){function t(e){n(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this)),i={async:!0,createXHR:function(){return this.crossDomain?s.call(this):u()},crossDomain:!1,withCredentials:!1,headers:{},method:"GET",responseType:"json",timeout:0};if("string"==typeof e)i.url=e;else for(var c in e)e.hasOwnProperty(c)&&(i[c]=e[c]);return r.request=i,r}return i(t,e),d(t,[{key:"_subscribe",value:function(e){return new j(e,this.request)}}]),t}(m.Observable);O.create=function(){var e=function(e){return new O(e)};return e.get=c,e.post=a,e.delete=l,e.put=f,e.getJSON=b,e}();var j=r.AjaxSubscriber=function(e){function t(e,r){n(this,t);var i=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));i.request=r,i.done=!1;var s=r.headers=r.headers||{};return r.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest"),"Content-Type"in s||y.root.FormData&&r.body instanceof y.root.FormData||"undefined"==typeof r.body||(s["Content-Type"]="application/x-www-form-urlencoded; charset=UTF-8"),r.body=i.serializeBody(r.body,r.headers["Content-Type"]),i.send(),i}return i(t,e),d(t,[{key:"next",value:function(e){this.done=!0;var t=this.xhr,r=this.request,n=this.destination,o=new g(e,t,r);n.next(o)}},{key:"send",value:function(){var e=this.request,t=this.request,r=t.user,n=t.method,o=t.url,i=t.async,s=t.password,u=t.headers,c=t.body,a=e.createXHR,l=(0,h.tryCatch)(a).call(e);if(l===v.errorObject)this.error(v.errorObject.e);else{this.xhr=l;var f=void 0;if(f=r?(0,h.tryCatch)(l.open).call(l,n,o,i,r,s):(0,h.tryCatch)(l.open).call(l,n,o,i),f===v.errorObject)return this.error(v.errorObject.e),null;l.timeout=e.timeout,l.responseType=e.responseType,this.setHeaders(l,u),this.setupEvents(l,e),c?l.send(c):l.send()}return l}},{key:"serializeBody",value:function(e,t){if(!e||"string"==typeof e)return e;if(y.root.FormData&&e instanceof y.root.FormData)return e;if(t){var r=t.indexOf(";");r!==-1&&(t=t.substring(0,r))}switch(t){case"application/x-www-form-urlencoded":return Object.keys(e).map(function(t){return encodeURI(t)+"="+encodeURI(e[t])}).join("&");case"application/json":return JSON.stringify(e);default:return e}}},{key:"setHeaders",value:function(e,t){for(var r in t)t.hasOwnProperty(r)&&e.setRequestHeader(r,t[r])}},{key:"setupEvents",value:function(e,t){var r=t.progressSubscriber;e.ontimeout=function e(t){var r=e.subscriber,n=e.progressSubscriber,o=e.request;n&&n.error(t),r.error(new x(this,o))},e.ontimeout.request=t,e.ontimeout.subscriber=this,e.ontimeout.progressSubscriber=r,e.upload&&"withCredentials"in e&&y.root.XDomainRequest&&(r&&(e.onprogress=function e(t){var r=e.progressSubscriber;r.next(t)},e.onprogress.progressSubscriber=r),e.onerror=function e(t){var r=e.progressSubscriber,n=e.subscriber,o=e.request;r&&r.error(t),n.error(new S("ajax error",this,o))},e.onerror.request=t,e.onerror.subscriber=this,e.onerror.progressSubscriber=r),e.onreadystatechange=function e(t){var r=e.subscriber,n=e.progressSubscriber,o=e.request;if(4===this.readyState){var i=1223===this.status?204:this.status,s="text"===this.responseType?this.response||this.responseText:this.response;0===i&&(i=s?200:0),200<=i&&i<300?(n&&n.complete(),r.next(t),r.complete()):(n&&n.error(t),r.error(new S("ajax error "+i,this,o)))}},e.onreadystatechange.subscriber=this,e.onreadystatechange.progressSubscriber=r,e.onreadystatechange.request=t}},{key:"unsubscribe",value:function(){var e=this.done,r=this.xhr;!e&&r&&4!==r.readyState&&r.abort(),p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"unsubscribe",this).call(this)}}]),t}(_.Subscriber),g=r.AjaxResponse=function e(t,r,o){switch(n(this,e),this.originalEvent=t,this.xhr=r,this.request=o,this.status=r.status,this.responseType=r.responseType||o.responseType,this.responseType){case"json":"response"in r?this.response=r.responseType?r.response:JSON.parse(r.response||r.responseText||"null"):this.response=JSON.parse(r.responseText||"null");break;case"xml":this.response=r.responseXML;break;case"text":default:this.response="response"in r?r.response:r.responseText}},S=r.AjaxError=function(e){function t(e,r,i){n(this,t);var s=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s.message=e,s.xhr=r,s.request=i,s.status=r.status,s}return i(t,e),t}(Error),x=r.AjaxTimeoutError=function(e){function t(e,r){return n(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"ajax timeout",e,r))}return i(t,e),t}(S)},{"../../Observable":52,"../../Subscriber":57,"../../operator/map":85,"../../util/errorObject":96,"../../util/root":102,"../../util/tryCatch":105}],77:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.ajax=void 0;var n=e("./AjaxObservable");r.ajax=n.AjaxObservable.create},{"./AjaxObservable":76}],78:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.empty=void 0;var n=e("./EmptyObservable");r.empty=n.EmptyObservable.create},{"./EmptyObservable":73}],79:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.fromEvent=void 0;var n=e("./FromEventObservable");r.fromEvent=n.FromEventObservable.create},{"./FromEventObservable":74}],80:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.merge=void 0;var n=e("../operator/merge");r.merge=n.mergeStatic},{"../operator/merge":86}],81:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.of=void 0;var n=e("./ArrayObservable");r.of=n.ArrayObservable.of},{"./ArrayObservable":72}],82:[function(e,t,r){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e){var t=new l(e),r=this.lift(t);return t.caught=r}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r._catch=s;var c=e("../OuterSubscriber"),a=e("../util/subscribeToResult"),l=function(){function e(t){i(this,e),this.selector=t}return u(e,[{key:"call",value:function(e,t){return t._subscribe(new f(e,this.selector,this.caught))}}]),e}(),f=function(e){function t(e,r,o){i(this,t);var s=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s.selector=r,s.caught=o,s}return o(t,e),u(t,[{key:"error",value:function(e){if(!this.isStopped){var t=void 0;try{t=this.selector(e,this.caught)}catch(e){return void this.destination.error(e)}this.unsubscribe(),this.destination.remove(this),(0,a.subscribeToResult)(this,t)}}}]),t}(c.OuterSubscriber)},{"../OuterSubscriber":54,"../util/subscribeToResult":103}],83:[function(e,t,r){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t,r){return this.lift(new a(e,t,r))}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r._do=s;var c=e("../Subscriber"),a=function(){function e(t,r,n){i(this,e),this.nextOrObserver=t,this.error=r,this.complete=n}return u(e,[{key:"call",value:function(e,t){return t._subscribe(new l(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),l=function(e){function t(e,r,o,s){i(this,t);var u=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),a=new c.Subscriber(r,o,s);return a.syncErrorThrowable=!0,u.add(a),u.safeSubscriber=a,u}return o(t,e),u(t,[{key:"_next",value:function(e){var t=this.safeSubscriber;t.next(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.next(e)}},{key:"_error",value:function(e){var t=this.safeSubscriber;t.error(e),t.syncErrorThrown?this.destination.error(t.syncErrorValue):this.destination.error(e)}},{key:"_complete",value:function(){var e=this.safeSubscriber;e.complete(),e.syncErrorThrown?this.destination.error(e.syncErrorValue):this.destination.complete()}}]),t}(c.Subscriber)},{"../Subscriber":57}],84:[function(e,t,r){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){return this.lift(new a(e,t))}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r.filter=s;var c=e("../Subscriber"),a=function(){function e(t,r){i(this,e),this.predicate=t,this.thisArg=r}return u(e,[{key:"call",value:function(e,t){return t._subscribe(new l(e,this.predicate,this.thisArg))}}]),e}(),l=function(e){function t(e,r,o){i(this,t);var s=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s.predicate=r,s.thisArg=o,s.count=0,s.predicate=r,s}return o(t,e),u(t,[{key:"_next",value:function(e){var t=void 0;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}t&&this.destination.next(e)}}]),t}(c.Subscriber)},{"../Subscriber":57}],85:[function(e,t,r){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return this.lift(new a(e,t))}Object.defineProperty(r,"__esModule",{value:!0}),r.MapOperator=void 0;var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r.map=s;var c=e("../Subscriber"),a=r.MapOperator=function(){function e(t,r){i(this,e),this.project=t,this.thisArg=r}return u(e,[{key:"call",value:function(e,t){return t._subscribe(new l(e,this.project,this.thisArg))}}]),e}(),l=function(e){function t(e,r,o){i(this,t);var s=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s.project=r,s.count=0,s.thisArg=o||s,s}return o(t,e),u(t,[{key:"_next",value:function(e){var t=void 0;try{t=this.project.call(this.thisArg,e,this.count++)}catch(e){return void this.destination.error(e)}this.destination.next(t)}}]),t}(c.Subscriber)},{"../Subscriber":57}],86:[function(e,t,r){"use strict";function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.unshift(this),o.apply(this,t)}function o(){for(var e=Number.POSITIVE_INFINITY,t=null,r=arguments.length,n=Array(r),o=0;o<r;o++)n[o]=arguments[o];var c=n[n.length-1];return(0,u.isScheduler)(c)?(t=n.pop(),n.length>1&&"number"==typeof n[n.length-1]&&(e=n.pop())):"number"==typeof c&&(e=n.pop()),1===n.length?n[0]:new i.ArrayObservable(n,t).lift(new s.MergeAllOperator(e))}Object.defineProperty(r,"__esModule",{value:!0}),
r.merge=n,r.mergeStatic=o;var i=e("../observable/ArrayObservable"),s=e("./mergeAll"),u=e("../util/isScheduler")},{"../observable/ArrayObservable":72,"../util/isScheduler":101,"./mergeAll":87}],87:[function(e,t,r){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return this.lift(new l(e))}Object.defineProperty(r,"__esModule",{value:!0}),r.MergeAllSubscriber=r.MergeAllOperator=void 0;var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r.mergeAll=s;var c=e("../OuterSubscriber"),a=e("../util/subscribeToResult"),l=r.MergeAllOperator=function(){function e(t){i(this,e),this.concurrent=t}return u(e,[{key:"call",value:function(e,t){return t._subscribe(new f(e,this.concurrent))}}]),e}(),f=r.MergeAllSubscriber=function(e){function t(e,r){i(this,t);var o=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return o.concurrent=r,o.hasCompleted=!1,o.buffer=[],o.active=0,o}return o(t,e),u(t,[{key:"_next",value:function(e){this.active<this.concurrent?(this.active++,this.add((0,a.subscribeToResult)(this,e))):this.buffer.push(e)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete()}},{key:"notifyComplete",value:function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),t}(c.OuterSubscriber)},{"../OuterSubscriber":54,"../util/subscribeToResult":103}],88:[function(e,t,r){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;return this.lift(new l(e,this))}Object.defineProperty(r,"__esModule",{value:!0});var u=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(n)},c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r.retry=s;var a=e("../Subscriber"),l=function(){function e(t,r){i(this,e),this.count=t,this.source=r}return c(e,[{key:"call",value:function(e,t){return t._subscribe(new f(e,this.count,this.source))}}]),e}(),f=function(e){function t(e,r,o){i(this,t);var s=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s.count=r,s.source=o,s}return o(t,e),c(t,[{key:"error",value:function(e){if(!this.isStopped){var r=this.source,n=this.count;if(0===n)return u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"error",this).call(this,e);n>-1&&(this.count=n-1),this.unsubscribe(),this.isStopped=!1,this.closed=!1,r.subscribe(this)}}}]),t}(a.Subscriber)},{"../Subscriber":57}],89:[function(e,t,r){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(){return this.lift(new l)}Object.defineProperty(r,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r._switch=s;var c=e("../OuterSubscriber"),a=e("../util/subscribeToResult"),l=function(){function e(){i(this,e)}return u(e,[{key:"call",value:function(e,t){return t._subscribe(new f(e))}}]),e}(),f=function(e){function t(e){i(this,t);var r=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return r.active=0,r.hasCompleted=!1,r}return o(t,e),u(t,[{key:"_next",value:function(e){this.unsubscribeInner(),this.active++,this.add(this.innerSubscription=(0,a.subscribeToResult)(this,e))}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&this.destination.complete()}},{key:"unsubscribeInner",value:function(){this.active=this.active>0?this.active-1:0;var e=this.innerSubscription;e&&(e.unsubscribe(),this.remove(e))}},{key:"notifyNext",value:function(e,t,r,n,o){this.destination.next(t)}},{key:"notifyError",value:function(e){this.destination.error(e)}},{key:"notifyComplete",value:function(){this.unsubscribeInner(),this.hasCompleted&&0===this.active&&this.destination.complete()}}]),t}(c.OuterSubscriber)},{"../OuterSubscriber":54,"../util/subscribeToResult":103}],90:[function(e,t,r){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){return this.lift(new f(e,t))}Object.defineProperty(r,"__esModule",{value:!0});var u=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(n)},c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();r.switchMap=s;var a=e("../OuterSubscriber"),l=e("../util/subscribeToResult"),f=function(){function e(t,r){i(this,e),this.project=t,this.resultSelector=r}return c(e,[{key:"call",value:function(e,t){return t._subscribe(new b(e,this.project,this.resultSelector))}}]),e}(),b=function(e){function t(e,r,o){i(this,t);var s=n(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s.project=r,s.resultSelector=o,s.index=0,s}return o(t,e),c(t,[{key:"_next",value:function(e){var t=void 0,r=this.index++;try{t=this.project(e,r)}catch(e){return void this.destination.error(e)}this._innerSub(t,e,r)}},{key:"_innerSub",value:function(e,t,r){var n=this.innerSubscription;n&&n.unsubscribe(),this.add(this.innerSubscription=(0,l.subscribeToResult)(this,e,t,r))}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(e){this.remove(e),this.innerSubscription=null,this.isStopped&&u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e,t,r,n,o){this.resultSelector?this._tryNotifyNext(e,t,r,n):this.destination.next(t)}},{key:"_tryNotifyNext",value:function(e,t,r,n){var o=void 0;try{o=this.resultSelector(e,t,r,n)}catch(e){return void this.destination.error(e)}this.destination.next(o)}}]),t}(a.OuterSubscriber)},{"../OuterSubscriber":54,"../util/subscribeToResult":103}],91:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.$$iterator=void 0;var n=e("../util/root"),o=r.$$iterator=void 0,i=n.root.Symbol;if("function"==typeof i)i.iterator?r.$$iterator=o=i.iterator:"function"==typeof i.for&&(r.$$iterator=o=i.for("iterator"));else if(n.root.Set&&"function"==typeof(new n.root.Set)["@@iterator"])r.$$iterator=o="@@iterator";else if(n.root.Map)for(var s=Object.getOwnPropertyNames(n.root.Map.prototype),u=0;u<s.length;++u){var c=s[u];if("entries"!==c&&"size"!==c&&n.root.Map.prototype[c]===n.root.Map.prototype.entries){r.$$iterator=o=c;break}}else r.$$iterator=o="@@iterator"},{"../util/root":102}],92:[function(e,t,r){"use strict";function n(e){var t=void 0,r=e.Symbol;return"function"==typeof r?r.observable?t=r.observable:(t=r("observable"),r.observable=t):t="@@observable",t}Object.defineProperty(r,"__esModule",{value:!0}),r.$$observable=void 0,r.getSymbolObservable=n;var o=e("../util/root");r.$$observable=n(o.root)},{"../util/root":102}],93:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.$$rxSubscriber=void 0;var n=e("../util/root"),o=n.root.Symbol;r.$$rxSubscriber="function"==typeof o&&"function"==typeof o.for?o.for("rxSubscriber"):"@@rxSubscriber"},{"../util/root":102}],94:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});r.ObjectUnsubscribedError=function(e){function t(){var e;n(this,t);var r=e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,"object unsubscribed"));return e.name=r.name="ObjectUnsubscribedError",e.stack=r.stack,e.message=r.message,e}return i(t,e),t}(Error)},{}],95:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(r,"__esModule",{value:!0});r.UnsubscriptionError=function(e){function t(e){n(this,t);var r=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));r.errors=e;var i=Error.call(r,e?e.length+" errors occurred during unsubscription:\n  "+e.map(function(e,t){return t+1+") "+e.toString()}).join("\n  "):"");return r.name=i.name="UnsubscriptionError",r.stack=i.stack,r.message=i.message,r}return i(t,e),t}(Error)},{}],96:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.errorObject={e:{}}},{}],97:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.isArray=Array.isArray||function(e){return e&&"number"==typeof e.length}},{}],98:[function(e,t,r){"use strict";function n(e){return"function"==typeof e}Object.defineProperty(r,"__esModule",{value:!0}),r.isFunction=n},{}],99:[function(e,t,r){"use strict";function n(e){return null!=e&&"object"===("undefined"==typeof e?"undefined":o(e))}Object.defineProperty(r,"__esModule",{value:!0});var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};r.isObject=n},{}],100:[function(e,t,r){"use strict";function n(e){return e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}Object.defineProperty(r,"__esModule",{value:!0}),r.isPromise=n},{}],101:[function(e,t,r){"use strict";function n(e){return e&&"function"==typeof e.schedule}Object.defineProperty(r,"__esModule",{value:!0}),r.isScheduler=n},{}],102:[function(e,t,r){(function(e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n={boolean:!1,function:!0,object:!0,number:!1,string:!1,undefined:!1},o=r.root=n["undefined"==typeof self?"undefined":t(self)]&&self||n["undefined"==typeof window?"undefined":t(window)]&&window,i=n["undefined"==typeof e?"undefined":t(e)]&&e;!i||i.global!==i&&i.window!==i||(r.root=o=i)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],103:[function(e,t,r){"use strict";function n(e,t,r,n){var f=new a.InnerSubscriber(e,r,n);if(f.closed)return null;if(t instanceof u.Observable)return t._isScalar?(f.next(t.value),f.complete(),null):t.subscribe(f);if((0,i.isArray)(t)){for(var b=0,p=t.length;b<p&&!f.closed;b++)f.next(t[b]);f.closed||f.complete()}else{if((0,s.isPromise)(t))return t.then(function(e){f.closed||(f.next(e),f.complete())},function(e){return f.error(e)}).then(null,function(e){o.root.setTimeout(function(){throw e})}),f;if("function"==typeof t[c.$$iterator])for(var d=t[c.$$iterator]();;){var y=d.next();if(y.done){f.complete();break}if(f.next(y.value),f.closed)break}else if("function"==typeof t[l.$$observable]){var h=t[l.$$observable]();if("function"==typeof h.subscribe)return h.subscribe(new a.InnerSubscriber(e,r,n));f.error(new Error("invalid observable"))}else f.error(new TypeError("unknown type returned"))}return null}Object.defineProperty(r,"__esModule",{value:!0}),r.subscribeToResult=n;var o=e("./root"),i=e("./isArray"),s=e("./isPromise"),u=e("../Observable"),c=e("../symbol/iterator"),a=e("../InnerSubscriber"),l=e("../symbol/observable")},{"../InnerSubscriber":51,"../Observable":52,"../symbol/iterator":91,"../symbol/observable":92,"./isArray":97,"./isPromise":100,"./root":102}],104:[function(e,t,r){"use strict";function n(e,t,r){if(e){if(e instanceof o.Subscriber)return e;if(e[i.$$rxSubscriber])return e[i.$$rxSubscriber]()}return e||t||r?new o.Subscriber(e,t,r):new o.Subscriber}Object.defineProperty(r,"__esModule",{value:!0}),r.toSubscriber=n;var o=e("../Subscriber"),i=e("../symbol/rxSubscriber")},{"../Subscriber":57,"../symbol/rxSubscriber":93}],105:[function(e,t,r){"use strict";function n(){try{return s.apply(this,arguments)}catch(e){return i.errorObject.e=e,i.errorObject}}function o(e){return s=e,n}Object.defineProperty(r,"__esModule",{value:!0}),r.tryCatch=o;var i=e("./errorObject"),s=void 0},{"./errorObject":96}],106:[function(e,t,r){"use strict";function n(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":s(t))&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":s(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(r,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"===s(Symbol.iterator)?function(e){return"undefined"==typeof e?"undefined":s(e)}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":"undefined"==typeof e?"undefined":s(e)},c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function e(){i(this,e)};r.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;return function(e){function t(){return i(this,t),n(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),c(t,[{key:"initComponent",value:function(e,t){this.state=Object.assign({},this.defaults(),t),this.setupProperties(),this.el=this.setupDOM(e)}},{key:"setupDOM",value:function(e){return console.warn("setupDOM not implemented"),e}},{key:"setupProperties",value:function(){var e=this.sideEffects(),t=!0,r=!1,n=void 0;try{for(var o,i=Object.keys(this.state)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var s=o.value;if("undefined"==typeof this[s]){var u=e[s];this.setupProperty(s,u)}}}catch(e){r=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw n}}}},{key:"setupProperty",value:function(e,t){var r=this;Object.defineProperty(this,e,{get:function(){return r.state[e]},set:function(n){null!=t?t(n):r.setState(e,n)}})}},{key:"getEl",value:function(){return this.el}},{key:"defaults",value:function(){return console.warn("defaults not provided"),{}}},{key:"sideEffects",value:function(){return{}}},{key:"setState",value:function(e,t){if("string"==typeof e)this.setStateKV(e,t);else{if("object"!==("undefined"==typeof e?"undefined":u(e)))throw Error("setState needs argument");this.setStateMap(e)}}},{key:"setStateKV",value:function(e,t){this.state[e]=t}},{key:"setStateMap",value:function(e){var t=!0,r=!1,n=void 0;try{for(var o,i=Object.keys(e)[Symbol.iterator]();!(t=(o=i.next()).done);t=!0){var s=o.value;this.setStateKV(s,e[s])}}catch(e){r=!0,n=e}finally{try{!t&&i.return&&i.return()}finally{if(r)throw n}}}}]),t}(e)}},{}],107:[function(e,t,r){"use strict";function n(e){var t=e.match(/^([^:\/?#]+:)?(?:\/\/([^\/?#]*))?([^?#]+)?(\?[^#]*)?(#.*)?/);if("string"==typeof t[1]&&t[1].length>0&&t[1].toLowerCase()!==window.location.protocol)return!0;var r={http:80,https:443}[window.location.protocol];return"string"==typeof t[2]&&t[2].length>0&&t[2].replace(new RegExp(":("+r+")?$"),"")!==window.location.host}function o(e){return e.replace(/#.*/,"")}function i(e,t){var r=t||window.location.href,n=e.indexOf("#")>-1,i=o(e)===o(r);return n&&i}function s(e,t,r){var o=e.href;return!(n(o)||i(o)||e.matches(t)||""!==e.target||null!==r&&o.search(r)===-1)}function u(){var e=document.documentElement,t=document.body,r="scrollHeight";return e[r]||t[r]}function c(){return window.pageYOffset}Object.defineProperty(r,"__esModule",{value:!0}),r.isExternal=n,r.stripHash=o,r.isHash=i,r.shouldLoadAnchor=s,r.getScrollHeight=u,r.getScrollTop=c},{}],108:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":u(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(r,"__esModule",{value:!0});var c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function e(t,r,n){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o)return o.value;var s=o.get;if(void 0!==s)return s.call(n)},l=e("y-component/src/componentCore"),f=n(l),b=e("rxjs-es/Observable"),p=e("rxjs-es/Subject");e("rxjs-es/add/observable/empty"),e("rxjs-es/add/observable/fromEvent"),e("rxjs-es/add/observable/merge"),e("rxjs-es/add/observable/of"),e("rxjs-es/add/observable/dom/ajax"),e("rxjs-es/add/operator/catch"),e("rxjs-es/add/operator/do"),e("rxjs-es/add/operator/filter"),e("rxjs-es/add/operator/map"),e("rxjs-es/add/operator/mergeAll"),e("rxjs-es/add/operator/retry"),e("rxjs-es/add/operator/switch"),e("rxjs-es/add/operator/switchMap");var d=e("../common"),y="a[href]",h="main",v="is-loading";r.default=function(e){return function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),c(t,[{key:"initComponent",value:function(e,r){var n=this;a(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initComponent",this).call(this,e,r),this.bindCallbacks(),"scrollRestoration"in history&&(this.scroll?history.scrollRestoration="manual":history.scrollRestoration="auto"),this.scroll&&(this.resetScrollPostion(),window.addEventListener("beforeunload",function(){n.saveScrollPosition()})),this.resetScrollPostion(),this.titleElement=document.querySelector("title")||{};var o=new p.Subject,i=o.switch().do(function(){return n.saveScrollPosition()}).map(function(e){return{push:!0,href:e}}),s=b.Observable.fromEvent(window,"popstate").filter(function(e){var t=e.state;return null!=t}).map(function(){return{push:!1,href:window.location.href}});b.Observable.merge(i,s).do(this.onBefore).map(this.hrefToRquestData).switchMap(this.makeRequest).map(this.ajaxResponseToContent).subscribe(function(e){n.updateDOM(e),o.next(n.bindEvents()),n.onAfter()}),o.next(this.bindEvents())}},{key:"setupDOM",value:function(e){if(null==e.querySelector(this.state.contentSelector))throw Error("el needs to contain content");return e}},{key:"defaults",value:function(){return{contentSelector:h,linkSelector:y,loadingClass:v,scroll:!1,hrefRegex:null,blacklist:null}}},{key:"sideEffects",value:function(){return{}}},{key:"bindCallbacks",value:function(){this.beNice=this.beNice.bind(this),this.hrefToRquestData=this.hrefToRquestData.bind(this),this.makeRequest=this.makeRequest.bind(this),this.ajaxResponseToContent=this.ajaxResponseToContent.bind(this),this.updateDOM=this.updateDOM.bind(this),this.onBefore=this.onBefore.bind(this),this.onAfter=this.onAfter.bind(this)}},{key:"fragmentFromString",value:function(e){return document.createRange().createContextualFragment(e)}},{key:"onBefore",value:function(){document.body.classList.add(this.loadingClass),this.getEl().dispatchEvent(new Event("y-smooth-state-before"))}},{key:"onAfter",value:function(){document.body.classList.remove(this.loadingClass),this.getEl().dispatchEvent(new Event("y-smooth-state-after"))}},{key:"onError",value:function(){document.body.classList.remove(this.loadingClass),this.getEl().dispatchEvent(new Event("y-smooth-state-error"))}},{key:"beNice",value:function(e){return!e.metaKey&&!e.ctrlKey&&(0,d.shouldLoadAnchor)(e.currentTarget,this.blacklist,this.hrefRegex)}},{key:"bindEvents",value:function(){return b.Observable.of(this.getEl().querySelectorAll(this.linkSelector)).map(function(e){return b.Observable.fromEvent(e,"click")}).mergeAll().filter(this.beNice).do(function(e){return e.preventDefault()}).map(function(e){return e.currentTarget.href})}},{key:"hrefToRquestData",value:function(e){return Object.assign(e,{requestData:{method:"GET",url:e.href,responseType:"text"}})}},{key:"makeRequest",value:function(e){var t=this;return b.Observable.ajax(e.requestData).retry(3).map(function(t){return Object.assign(e,{ajaxResponse:t})}).catch(function(e){return t.onError(e),b.Observable.empty()})}},{key:"ajaxResponseToContent",value:function(e){var t=this.fragmentFromString(e.ajaxResponse.response),r=(t.querySelector("title")||{}).textContent,n=e.ajaxResponse.request.url,o=t.querySelectorAll(this.contentSelector);return Object.assign(e,{title:r,url:n,content:o})}},{key:"updateDOM",value:function(e){var t=e.title,r=e.content,n=e.url,o=e.push;this.titleElement.textContent=t,o&&window.history.pushState({},t,n),this.resetScrollPostion();var i=this.getEl().querySelectorAll(this.contentSelector);r.length===i.length,Array.from(i).forEach(function(e,t){e.parentNode.replaceChild(r[t],e)})}},{key:"saveScrollPosition",value:function(){if(this.scroll){var e=history.state||{};e.scrollTop=(0,d.getScrollTop)(),e.scrollHeight=(0,d.getScrollHeight)(),history.replaceState(e,document.title,window.location.href)}}},{key:"resetScrollPostion",value:function(){this.scroll&&!function(){var e=history.state||{};setImmediate(function(){document.body.style.willChange="scroll-position",requestAnimationFrame(function(){document.body.style.minHeight=(e.scrollHeight||0)+"px",window.scrollTo(window.pageXOffset,e.scrollTop||0),document.body.style.willChange=""})})}()}}]),t}((0,f.default)(e))}},{"../common":107,"rxjs-es/Observable":52,"rxjs-es/Subject":55,"rxjs-es/add/observable/dom/ajax":59,"rxjs-es/add/observable/empty":60,"rxjs-es/add/observable/fromEvent":61,"rxjs-es/add/observable/merge":62,"rxjs-es/add/observable/of":63,"rxjs-es/add/operator/catch":64,"rxjs-es/add/operator/do":65,"rxjs-es/add/operator/filter":66,"rxjs-es/add/operator/map":67,"rxjs-es/add/operator/mergeAll":68,"rxjs-es/add/operator/retry":69,"rxjs-es/add/operator/switch":70,"rxjs-es/add/operator/switchMap":71,"y-component/src/componentCore":106}],109:[function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==("undefined"==typeof t?"undefined":u(t))&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+("undefined"==typeof t?"undefined":u(t)));e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};Object.defineProperty(r,"__esModule",{value:!0});var c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=e("../core"),l=n(a),f=function(e){function t(e,r){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return n.initComponent(e,r),n}return s(t,e),c(t,[{key:"setupDOM",value:function(e){if(!e)throw Error("No element provided");return e}}]),t}((0,l.default)());r.default=f},{"../core":108}]},{},[48]);